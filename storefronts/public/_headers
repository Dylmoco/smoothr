/smoothr-sdk.js
  Cache-Control: public, max-age=0, s-maxage=300, must-revalidate

# Strict headers for the OAuth callback HTML (served by Cloudflare Pages)
# NOTE: connect-src is limited to the Supabase project base; update if project ref changes.
#       If you have a staging SDK domain, add a second block for that host too.

# Rules apply to this exact path (adjust if your build emits to a different path)
# Deployed URL will be: https://sdk.smoothr.dev/oauth/callback
/oauth/callback
  Content-Type: text/html; charset=utf-8
  Cache-Control: no-store
  Content-Security-Policy: default-src 'none'; script-src 'self' 'unsafe-inline'; style-src 'unsafe-inline'; connect-src https://lpuqrzvokroazwlricgn.supabase.co; img-src 'self' data:; base-uri 'none'; frame-ancestors 'none'
  X-Frame-Options: DENY
  # IMPORTANT: keep opener linkage so postMessage works across origins
  Cross-Origin-Opener-Policy: unsafe-none
  Cross-Origin-Embedder-Policy: unsafe-none
  Referrer-Policy: strict-origin-when-cross-origin

/oauth/callback.html
  Content-Type: text/html; charset=utf-8
  Cache-Control: no-store
  Content-Security-Policy: default-src 'none'; script-src 'self' 'unsafe-inline'; style-src 'unsafe-inline'; connect-src https://lpuqrzvokroazwlricgn.supabase.co; img-src 'self' data:; base-uri 'none'; frame-ancestors 'none'
  X-Frame-Options: DENY
  # IMPORTANT: keep opener linkage so postMessage works across origins
  Cross-Origin-Opener-Policy: unsafe-none
  Cross-Origin-Embedder-Policy: unsafe-none
  Referrer-Policy: strict-origin-when-cross-origin

# (Optional hardening: if you move inline JS to an external file, you can drop 'unsafe-inline' from script-src.)
